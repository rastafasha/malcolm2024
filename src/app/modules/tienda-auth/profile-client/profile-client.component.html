<!-- End Side Vav -->
<a class="close_side_menu" href="javascript:void(0);"></a>
<div class="rbt-page-banner-wrapper">
    <!-- Start Banner BG Image  -->
    <div class="rbt-banner-image"></div>
    <!-- End Banner BG Image  -->
</div>
<!-- Start Card Style -->
<div class="rbt-dashboard-area rbt-section-overlayping-top rbt-section-gapBottom">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <!-- Start Dashboard Top  -->
                <div class="rbt-dashboard-content-wrapper">
                    <div class="tutor-bg-photo bg_image bg_image--23 height-350"></div>
                    <!-- Start Tutor Information  -->
                    <div class="rbt-tutor-information">
                        <div class="rbt-tutor-information-left">
                            <div class="thumbnail rbt-avatars size-lg">
                                <div *ngIf="!user">
                                    <img src="assets/images/team/avatar.jpg" alt="User Images">

                                </div>
                                <div *ngIf="user">
                                    <img [src]="user.avatar" [alt]="user.name">
                                </div>
                                <!-- <img  *ngIf="user" [src]="user.avatar" alt="Instructor"> -->
                            </div>
                            <div class="tutor-content">
                                <h5 class="title" *ngIf="user">{{user.name+' '+user.surname}}</h5>
                                <ul class="rbt-meta rbt-meta-white mt--5">
                                    <li><i class="feather-book"></i>{{enrolledCourseCount}} Courses Enroled</li>
                                    <li><i class="feather-award"></i>{{completedCourseCount}} Certificate</li>
                                </ul>
                            </div>
                        </div>
                        <!-- <div class="rbt-tutor-information-right">
                            <div class="tutor-btn">
                                <a class="rbt-btn btn-md hover-icon-reverse" href="#">
                                    <span class="icon-reverse-wrapper">
                    <span class="btn-text">Become an Instructor</span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                    </span>
                                </a>
                            </div>
                        </div> -->
                    </div>
                    <!-- End Tutor Information  -->
                </div>
                <!-- End Dashboard Top  -->

                <div class="row g-5">
                    <div class="col-lg-3">
                        <!-- Start Dashboard Sidebar  -->
                        <div class="rbt-default-sidebar sticky-top rbt-shadow-box rbt-gradient-border">
                            <div class="inner">
                                <div class="content-item-content">

                                    <div class="rbt-default-sidebar-wrapper">
                                        <div class="section-title mb--20">
                                            <h6 class="rbt-title-style-2" *ngIf="user">Welcome, {{user.name+'
                                                '+user.surname}}</h6>
                                        </div>
                                        <nav class="mainmenu-nav">
                                            <ul class="dashboard-mainmenu rbt-default-sidebar-list">
                                                <li><a href="#" onclick="return false;" (click)="newOption(1)"
                                                        [ngClass]="{'active': new_option == 1}" class="active"><i
                                                            class="feather-home"></i><span>Dashboard</span></a></li>
                                                <!-- <li><a href="student-profile.html"><i class="feather-user"></i><span>My Profile</span></a></li> -->
                                                <li><a href="#" onclick="return false;" (click)="newOption(2)"
                                                        [ngClass]="{'active': new_option == 2}"><i
                                                            class="feather-book-open"></i><span>Enrolled
                                                            Courses</span></a></li>
                                                <!-- <li><a href="student-wishlist.html"><i class="feather-bookmark"></i><span>Wishlist</span></a></li> -->
                                                <li><a href="#" onclick="return false;" (click)="newOption(3)"
                                                        [ngClass]="{'active': new_option == 3}"><i
                                                            class="feather-star"></i><span>Reviews</span></a></li>
                                                <!-- <li><a href="student-my-quiz-attempts.html"><i class="feather-help-circle"></i><span>My Quiz Attempts</span></a></li> -->
                                                <li><a href="#" onclick="return false;" (click)="newOption(4)"
                                                        [ngClass]="{'active': new_option == 4}"><i
                                                            class="feather-shopping-bag"></i><span>Order
                                                            History</span></a></li>
                                            </ul>
                                        </nav>

                                        <div class="section-title mt--40 mb--20">
                                            <h6 class="rbt-title-style-2">User</h6>
                                        </div>

                                        <nav class="mainmenu-nav">
                                            <ul class="dashboard-mainmenu rbt-default-sidebar-list">
                                                <li><a href="#" onclick="return false;" (click)="newOption(5)"
                                                        [ngClass]="{'active': new_option == 5}"><i
                                                            class="feather-settings"></i><span>Settings</span></a></li>
                                                <li><a href="#" onclick="return false;" (click)="logout()"><i
                                                            class="feather-log-out"></i><span>Logout</span></a></li>
                                            </ul>
                                        </nav>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <!-- End Dashboard Sidebar  -->
                    </div>

                    <div class="col-lg-9">
                        <div class="rbt-dashboard-content bg-color-white rbt-shadow-box mb--60" *ngIf="new_option == 1">
                            <div class="content">
                                <div class="section-title">
                                    <h4 class="rbt-title-style-3">Dashboard</h4>
                                </div>
                                <div class="row g-5">

                                    <!-- Start Single Card  -->
                                    <div class="col-lg-4 col-md-4 col-sm-6 col-12">
                                        <div
                                            class="rbt-counterup variation-01 rbt-hover-03 rbt-border-dashed bg-primary-opacity">
                                            <div class="inner">
                                                <div class="rbt-round-icon bg-primary-opacity">
                                                    <i class="feather-book-open"></i>
                                                </div>
                                                <div class="content">
                                                    <h3 class="counter without-icon color-primary"><span
                                                            class="odometer"
                                                            data-count="30">{{enrolledCourseCount}}</span>
                                                    </h3>
                                                    <span class="rbt-title-style-2 d-block">Enrolled Courses</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End Single Card  -->

                                    <!-- Start Single Card  -->
                                    <div class="col-lg-4 col-md-4 col-sm-6 col-12">
                                        <div
                                            class="rbt-counterup variation-01 rbt-hover-03 rbt-border-dashed bg-secondary-opacity">
                                            <div class="inner">
                                                <div class="rbt-round-icon bg-secondary-opacity">
                                                    <i class="feather-monitor"></i>
                                                </div>
                                                <div class="content">
                                                    <h3 class="counter without-icon color-secondary"><span
                                                            class="odometer"
                                                            data-count="10">{{activeCourseCount}}</span>
                                                    </h3>
                                                    <span class="rbt-title-style-2 d-block">ACTIVE COURSES</span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <!-- End Single Card  -->

                                    <!-- Start Single Card  -->
                                    <div class="col-lg-4 col-md-4 col-sm-6 col-12">
                                        <div
                                            class="rbt-counterup variation-01 rbt-hover-03 rbt-border-dashed bg-violet-opacity">
                                            <div class="inner">
                                                <div class="rbt-round-icon bg-violet-opacity">
                                                    <i class="feather-award"></i>
                                                </div>
                                                <div class="content">
                                                    <h3 class="counter without-icon color-violet"><span class="odometer"
                                                            data-count="7">{{completedCourseCount}}</span>
                                                    </h3>
                                                    <span class="rbt-title-style-2 d-block">Completed Courses</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End Single Card  -->

                                </div>
                            </div>
                        </div>
                        <!-- enroled courses -->
                        <div class="rbt-dashboard-content bg-color-white rbt-shadow-box mb--60" *ngIf="new_option == 2">
                            <div class="content">

                                <div class="section-title">
                                    <h4 class="rbt-title-style-3">Enrolled Courses</h4>
                                </div>

                                <div class="advance-tab-button mb--30">
                                    <ul class="nav nav-tabs tab-button-style-2 justify-content-start" id="myTab-4"
                                        role="tablist">
                                        <li role="presentation">
                                            <a href="#" class="tab-button active" id="home-tab-4" data-bs-toggle="tab"
                                                data-bs-target="#home-4" role="tab" aria-controls="home-4"
                                                aria-selected="true">
                                                <span class="title">Enrolled Courses</span>
                                            </a>
                                        </li>
                                        <li role="presentation">
                                            <a href="#" class="tab-button" id="profile-tab-4" data-bs-toggle="tab"
                                                data-bs-target="#profile-4" role="tab" aria-controls="profile-4"
                                                aria-selected="false">
                                                <span class="title">Active Courses</span>
                                            </a>
                                        </li>
                                        <li role="presentation">
                                            <a href="#" class="tab-button" id="contact-tab-4" data-bs-toggle="tab"
                                                data-bs-target="#contact-4" role="tab" aria-controls="contact-4"
                                                aria-selected="false">
                                                <span class="title">Completed Courses</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="tab-content">
                                    <div class="tab-pane fade active show" id="home-4" role="tabpanel"
                                        aria-labelledby="home-tab-4">
                                        <div class="row g-5">
                                            <ng-container *ngFor="let enrolledc of enrolledCourses">

                                                <!-- Start Single Course  -->
                                                <div class="col-lg-4 col-md-6 col-12">
                                                    <div class="rbt-card variation-01 rbt-hover">
                                                        <div class="rbt-card-img">
                                                            <a
                                                                [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">
                                                                <img [src]="enrolledc.course.imagen"
                                                                    [alt]="enrolledc.course.title">
                                                            </a>
                                                        </div>
                                                        <div class="rbt-card-body">
                                                            <div class="rbt-card-top">
                                                                <div class="rbt-review">
                                                                    <div class="rating">
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                    </div>
                                                                    <span class="rating-count"> (15 Reviews)</span>
                                                                </div>
                                                                <div class="rbt-bookmark-btn">
                                                                    <a class="rbt-round-btn" title="Bookmark"
                                                                        href="#"><i class="feather-bookmark"></i></a>
                                                                </div>
                                                            </div>
                                                            <h4 class="rbt-card-title"><a
                                                                    [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">{{enrolledc.course.title}}</a>
                                                            </h4>
                                                            <ul class="rbt-meta">
                                                                <li><i
                                                                        class="feather-book"></i>{{enrolledc.course.count_class}}
                                                                    Lessons</li>
                                                                <li><i
                                                                        class="feather-users"></i>{{enrolledc.course.count_students}}
                                                                    Students</li>
                                                            </ul>

                                                            <div class="rbt-progress-style-1 mb--20 mt--10">
                                                                <div class="single-progress">
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 1">Complete</h6>
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 2">En Proceso</h6>
                                                                    <div class="progress">
                                                                        <div class="progress-bar wow fadeInLeft bar-color-success"
                                                                            data-wow-duration="0.5s"
                                                                            data-wow-delay=".3s" role="progressbar"
                                                                            [ngStyle]="{'width':enrolledc.porcentage+'%'}"
                                                                            [attr.aria-valuenow]="enrolledc.porcentage"
                                                                            aria-valuemin="0" aria-valuemax="100">
                                                                        </div>
                                                                        <span
                                                                            class="rbt-title-style-2 progress-number">{{enrolledc.porcentage}}%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                           
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End Single Course  -->
                                            </ng-container>

                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="profile-4" role="tabpanel"
                                        aria-labelledby="profile-tab-4">
                                        <div class="row g-5">

                                            <ng-container *ngFor="let enrolledc of activeCourses">

                                                <!-- Start Single Course  -->
                                                <div class="col-lg-4 col-md-6 col-12">
                                                    <div class="rbt-card variation-01 rbt-hover">
                                                        <div class="rbt-card-img">
                                                            <a
                                                                [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">
                                                                <img [src]="enrolledc.course.imagen"
                                                                    [alt]="enrolledc.course.title">
                                                            </a>
                                                        </div>
                                                        <div class="rbt-card-body">
                                                            <div class="rbt-card-top">
                                                                <div class="rbt-review">
                                                                    <div class="rating">
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                    </div>
                                                                    <span class="rating-count"> (15 Reviews)</span>
                                                                </div>
                                                                <div class="rbt-bookmark-btn">
                                                                    <a class="rbt-round-btn" title="Bookmark"
                                                                        href="#"><i class="feather-bookmark"></i></a>
                                                                </div>
                                                            </div>
                                                            <h4 class="rbt-card-title"><a
                                                                    [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">{{enrolledc.course.title}}</a>
                                                            </h4>
                                                            <ul class="rbt-meta">
                                                                <li><i
                                                                        class="feather-book"></i>{{enrolledc.course.count_class}}
                                                                    Lessons</li>
                                                                <li><i
                                                                        class="feather-users"></i>{{enrolledc.course.count_students}}
                                                                    Students</li>
                                                            </ul>

                                                            <div class="rbt-progress-style-1 mb--20 mt--10">
                                                                <div class="single-progress">
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 1">Complete</h6>
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 2">En Proceso</h6>
                                                                    <div class="progress">
                                                                        <div class="progress-bar wow fadeInLeft bar-color-success"
                                                                            data-wow-duration="0.5s"
                                                                            data-wow-delay=".3s" role="progressbar"
                                                                            [ngStyle]="{'width':enrolledc.porcentage+'%'}"
                                                                            [attr.aria-valuenow]="enrolledc.porcentage"
                                                                            aria-valuemin="0" aria-valuemax="100">
                                                                        </div>
                                                                        <span
                                                                            class="rbt-title-style-2 progress-number">{{enrolledc.porcentage}}%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End Single Course  -->
                                            </ng-container>

                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="contact-4" role="tabpanel"
                                        aria-labelledby="contact-tab-4">
                                        <div class="row g-5">
                                            <ng-container *ngFor="let enrolledc of completedCourses">

                                                <!-- Start Single Course  -->
                                                <div class="col-lg-4 col-md-6 col-12">
                                                    <div class="rbt-card variation-01 rbt-hover">
                                                        <div class="rbt-card-img">
                                                            <a
                                                                [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">
                                                                <img [src]="enrolledc.course.imagen"
                                                                    [alt]="enrolledc.course.title">
                                                            </a>
                                                        </div>
                                                        <div class="rbt-card-body">
                                                            <div class="rbt-card-top">
                                                                <div class="rbt-review">
                                                                    <div class="rating">
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                        <i class="fas fa-star"></i>
                                                                    </div>
                                                                    <span class="rating-count"> (15 Reviews)</span>
                                                                </div>
                                                                <div class="rbt-bookmark-btn">
                                                                    <a class="rbt-round-btn" title="Bookmark"
                                                                        href="#"><i class="feather-bookmark"></i></a>
                                                                </div>
                                                            </div>
                                                            <h4 class="rbt-card-title"><a
                                                                    [href]="'tienda-guest/landing-curso/'+enrolledc.course.slug">{{enrolledc.course.title}}</a>
                                                            </h4>
                                                            <ul class="rbt-meta">
                                                                <li><i
                                                                        class="feather-book"></i>{{enrolledc.course.count_class}}
                                                                    Lessons</li>
                                                                <li><i
                                                                        class="feather-users"></i>{{enrolledc.course.count_students}}
                                                                    Students</li>
                                                            </ul>

                                                            <div class="rbt-progress-style-1 mb--20 mt--10">
                                                                <div class="single-progress">
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 1">Complete</h6>
                                                                    <h6 class="rbt-title-style-2 mb--10"
                                                                        *ngIf="enrolledc.state== 2">En Proceso</h6>
                                                                    <div class="progress">
                                                                        <div class="progress-bar wow fadeInLeft bar-color-success"
                                                                            data-wow-duration="0.5s"
                                                                            data-wow-delay=".3s" role="progressbar"
                                                                            [ngStyle]="{'width':enrolledc.porcentage+'%'}"
                                                                            [attr.aria-valuenow]="enrolledc.porcentage"
                                                                            aria-valuemin="0" aria-valuemax="100">
                                                                        </div>
                                                                        <span
                                                                            class="rbt-title-style-2 progress-number">{{enrolledc.porcentage}}%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="rbt-card-bottom">
                                                                <a class="rbt-btn btn-sm bg-primary-opacity w-100 text-center"
                                                                    href="#"><i
                                                                    class="feather-download"></i> Certificate</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End Single Course  -->
                                            </ng-container>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- enroled courses -->

                        <!-- reviews -->
                        <div class="rbt-dashboard-content bg-color-white rbt-shadow-box mb--60" *ngIf="new_option == 3">
                            <div class="content">
                                <div class="section-title">
                                    <h4 class="rbt-title-style-3">Reviews</h4>
                                </div>

                                <div class="rbt-dashboard-table table-responsive mobile-table-750" *ngIf="!saleDetailSelected">
                                    <table class="rbt-table table table-borderless">
                                        <thead>
                                            <tr>
                                                <th>Course</th>
                                                <th>Feedback</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container *ngFor="let saleDetail of saleDetails">
                                                <tr>
                                                    <th>
                                                        <span class="b3"><a href="#">
                                                            {{saleDetail.course.title}}
                                                        </a></span>
                                                    </th>
                                                    <td>
                                                        <div class="rbt-review" *ngIf="saleDetail.review">
                                                            <div class="rating">
                                                                <i class="fas fa-star" [ngClass]="{'rating': saleDetail.review.rating < 1}"></i>
                                                                <i class="fas fa-star" [ngClass]="{'rating': saleDetail.review.rating < 2}"></i>
                                                                <i class="fas fa-star" [ngClass]="{'rating': saleDetail.review.rating < 3}"></i>
                                                                <i class="fas fa-star" [ngClass]="{'rating': saleDetail.review.rating < 4}"></i>
                                                                <i class="fas fa-star" [ngClass]="{'rating': saleDetail.review.rating < 5}"></i>
                                                            </div>
                                                            <span class="rating-count"> ({{saleDetail.review.rating}})</span>
                                                        </div>
                                                        <div class="rbt-review" *ngIf="!saleDetail.review">
                                                            <span class="rating-count"> (Sin Reseñas)</span>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="rbt-button-group justify-content-end">
                                                            <a class="rbt-btn btn-xs bg-primary-opacity radius-round"
                                                                href="#" onclick="return false;" (click)="openReview(saleDetail)" title="Edit"><i class="feather-edit pl--0"></i></a>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                            
                                            
                                        </tbody>

                                    </table>
                                </div>

                                <div *ngIf="saleDetailSelected">
                                    <form action="#" class="rbt-profile-row rbt-default-form row row--15">
                                        <div class="col-12">
                                            <label for="bio">Calificación:</label>
                                            <div classe="d-flex">
                                                <i class="fas fa-star mx-2" [ngClass]="{'color-warning': rating >= 1}" (click)="selectedRating(1)" style="font-size: x-large; cursor:pointer;"></i>
                                                <i class="fas fa-star mx-2" [ngClass]="{'color-warning': rating >= 2}" (click)="selectedRating(2)" style="font-size: x-large; cursor:pointer;"></i>
                                                <i class="fas fa-star mx-2" [ngClass]="{'color-warning': rating >= 3}" (click)="selectedRating(3)" style="font-size: x-large; cursor:pointer;"></i>
                                                <i class="fas fa-star mx-2" [ngClass]="{'color-warning': rating >= 4}" (click)="selectedRating(4)" style="font-size: x-large; cursor:pointer;"></i>
                                                <i class="fas fa-star mx-2" [ngClass]="{'color-warning': rating >= 5}" (click)="selectedRating(5)" style="font-size: x-large; cursor:pointer;"></i>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-3">
                                            <div class="rbt-form-group">
                                                <label for="bio">Reseña:</label>
                                                <textarea id="bio" cols="20"rows="5" name="message" [(ngModel)]="message"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-12 mt--20">
                                            <div class="rbt-form-group">
                                                <a class="rbt-btn btn-gradient btn-md" href="#" onclick="return false;" *ngIf="!saleDetailSelected.review" (click)="saveReview()">Registrar Reseña</a>
                                                <a class="rbt-btn btn-gradient btn-md" href="#" onclick="return false;" *ngIf="saleDetailSelected.review" (click)="saveReview()">Registrar Cambio</a>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div *ngIf="saleDetailSelected">
                                    <button class="btn btn-primary btn-sm" (click)="back()">Regresar</button>
                                </div>
                            </div>
                        </div>
                        <!-- reviews -->
                        <!-- order story -->
                        <div class="rbt-dashboard-content bg-color-white rbt-shadow-box mb--60" *ngIf="new_option == 4">
                            <div class="content">
                                <div class="section-title">
                                    <h4 class="rbt-title-style-3">Order History</h4>
                                </div>

                                <div class="rbt-dashboard-table table-responsive mobile-table-750" *ngIf="!saleSelected">
                                    <table class="rbt-table table table-borderless">
                                        <thead>
                                            <tr>
                                                <th>Order ID</th>
                                                <th>Method Payment</th>
                                                <th>Date</th>
                                                <th>Total</th>
                                                <th>Show Detail</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <ng-container *ngFor="let sale of sales">
                                                <tr>
                                                    <th>#{{sale.n_transaccion}}</th>
                                                    <td>{{sale.method_payment}}</td>
                                                    <td>{{sale.created_at}}</td>
                                                    <td>${{sale.total}} {{sale.currency_payment}}</td>
                                                    <td>
                                                        <a class="rbt-btn btn-xs bg-primary-opacity radius-round"
                                                                href="#" onclick="return false;" (click)="selectedSale(sale)" title="Edit"><i class="feather-edit pl--0"></i></a>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                           
                                        </tbody>
                                    </table>
                                </div>
                                <div class="rbt-dashboard-table table-responsive mobile-table-750" *ngIf="saleSelected">
                                    <table class="rbt-table table table-borderless">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Imagen</th>
                                                <th>Curso</th>
                                                <th>Detalle</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <ng-container *ngFor="let sale of saleSelected.sale_details">
                                                <tr>
                                                    <th>#{{sale.id}}</th>
                                                    <td>
                                                        <img [src]="sale.course.imagen" style="width: 50px;" alt="">
                                                    </td>
                                                    <td>{{sale.course.title}}</td>
                                                    <td>
                                                        <ng-container *ngIf="sale.code_cupon">
                                                            <small *ngIf="sale.type_discount == 1"> Descuento: - {{sale.discount}} %</small>
                                                            <!-- <br> -->
                                                            <small *ngIf="sale.type_discount == 2"> Descuento: - {{sale.discount}} usd</small>
                                                            <br>
                                                            <small > CODIGO: {{sale.code_cupon}}</small>
                                                        </ng-container>
                                                        <ng-container *ngIf="sale.code_discount">
                                                            <small *ngIf="sale.type_discount == 1"> Descuento: - {{sale.discount}} %</small>
                                                            <!-- <br> -->
                                                            <small *ngIf="sale.type_discount == 2"> Descuento: - {{sale.discount}} usd</small>
                                                            <br>
                                                            <small > CODIGO: {{sale.code_discount}}</small>
                                                            <br>
                                                            <small > Tipo de Campaña: <br>
                                                                {{getNameCampaing(sale.type_campaing)}}
                                                            </small>
                                                        </ng-container>
                                                    </td>
                                                    
                                                    <td>${{sale.total}} {{sale.currency_payment}}</td>
                                                </tr>
                                            </ng-container>
                                           
                                        </tbody>
                                    </table>
                                </div>
                                <div *ngIf="saleSelected">
                                    <button class="btn btn-primary btn-sm" (click)="saleSelected = null">Regresar</button>
                                </div>

                            </div>
                        </div>
                        <!-- order story -->
                        <!-- settings-->
                        <div class="rbt-dashboard-content bg-color-white rbt-shadow-box mb--60" *ngIf="new_option == 5">
                            <div class="content">

                                <div class="section-title">
                                    <h4 class="rbt-title-style-3">Settings</h4>
                                </div>

                                <div class="advance-tab-button mb--30">
                                    <ul class="nav nav-tabs tab-button-style-2 justify-content-start" id="settinsTab-4"
                                        role="tablist">
                                        <li role="presentation">
                                            <a href="#" class="tab-button active" id="profile-tab" data-bs-toggle="tab"
                                                data-bs-target="#profile" role="tab" aria-controls="profile"
                                                aria-selected="true">
                                                <span class="title">Profile</span>
                                            </a>
                                        </li>
                                        <li role="presentation">
                                            <a href="#" class="tab-button" id="password-tab" data-bs-toggle="tab"
                                                data-bs-target="#password" role="tab" aria-controls="password"
                                                aria-selected="false">
                                                <span class="title">Password</span>
                                            </a>
                                        </li>
                                        <li role="presentation">
                                            <a href="#" class="tab-button" id="address-tab" data-bs-toggle="tab"
                                                data-bs-target="#address" role="tab" aria-controls="address"
                                                aria-selected="false">
                                                <span class="title">Dirección</span>
                                            </a>
                                        </li>
                                        <!-- <li role="presentation">
                                            <a href="#" class="tab-button" id="social-tab" data-bs-toggle="tab"
                                                data-bs-target="#address" role="tab" aria-controls="address"
                                                aria-selected="false">
                                                <span class="title">Social Share</span>
                                            </a>
                                        </li> -->
                                    </ul>
                                </div>

                                <div class="tab-content">
                                    <!-- profile -->
                                    <div class="tab-pane fade active show" id="profile" role="tabpanel"
                                        aria-labelledby="profile-tab">
                                        <div class="rbt-dashboard-content-wrapper">
                                            <div class="tutor-bg-photo bg_image bg_image--23 height-245"></div>
                                            <!-- Start Tutor Information  -->
                                            <div class="rbt-tutor-information">
                                                <div class="rbt-tutor-information-left">
                                                    <div class="thumbnail rbt-avatars size-lg position-relative">
                                                        <div *ngIf="!user.avatar">
                                                            <img src="assets/images/team/avatar.jpg" alt="User Images">

                                                        </div>
                                                        <div *ngIf="user.avatar">
                                                            <img [src]="user.avatar" [alt]="user.name">
                                                        </div>
                                                        <!-- <div class="rbt-edit-photo-inner">
                                                            <button class="rbt-edit-photo" title="Upload Photo">
                                                                <i class="feather-camera"></i>
                                                            </button>
                                                        </div> -->
                                                    </div>
                                                </div>
                                                <div class="rbt-tutor-information-right">
                                                    <div class="tutor-btn">
                                                        <a class="rbt-btn btn-sm btn-border color-white radius-round-10"
                                                            href="#">Edit Cover Photo</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- End Tutor Information  -->
                                        </div>
                                        <!-- Start Profile Row  -->
                                        <form action="#" class="rbt-profile-row rbt-default-form row row--15">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                <div class="rbt-form-group">
                                                    <label for="firstname">First Name</label>
                                                    <input id="firstname" type="text" name="name" [(ngModel)]="name" >
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                <div class="rbt-form-group">
                                                    <label for="lastname">Last Name</label>
                                                    <input id="lastname" type="text" name="surname" [(ngModel)]="surname" >
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                <div class="rbt-form-group">
                                                    <label for="username">Email</label>
                                                    <input id="username" type="text" name="email" [(ngModel)]="email" >
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                <div class="rbt-form-group">
                                                    <label for="phonenumber">Phone Number</label>
                                                    <input id="phonenumber" type="tel"  name="phone" [(ngModel)]="phone" >
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                                <div class="rbt-form-group">
                                                    <label for="skill">Skill/Occupation</label>
                                                    <input id="skill" type="text" name="profesion" [(ngModel)]="profesion">
                                                </div>
                                            </div>

                                            <div class="col-lg-6 col-md-6 col-sm-12 my-2">
                                                <label class="form-label">Sube tu imagen: *</label>
                                                <div class="custom-file">
                                                <input type="file" class="custom-file-input" id="customFile" name="avatar"  accept=".jpeg, .bmp, .jpg, .png, .gif, .webp"  (change)="processFile($event)">
                                                <label class="custom-file-label" for="customFile">Choose file</label>
                                                </div>
                                            </div>
                                    
                                            
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="bio">Bio</label>
                                                    <textarea id="bio" cols="20"
                                                        rows="5" name="description" [(ngModel)]="description"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-12 mt--20">
                                                <div class="rbt-form-group">
                                                    <a class="rbt-btn btn-gradient" href="#" onclick="return false" (click)="updateUser()">Update Info</a>
                                                </div>
                                            </div>
                                        </form>
                                        <!-- End Profile Row  -->
                                    </div>
                                    <!-- profile -->
                                    <!-- password -->
                                    <div class="tab-pane fade" id="password" role="tabpanel"
                                        aria-labelledby="password-tab">
                                        <!-- Start Profile Row  -->
                                        <form action="#" class="rbt-profile-row rbt-default-form row row--15">
                                            <!-- <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="currentpassword">Current Password</label>
                                                    <input id="currentpassword" type="password"
                                                        placeholder="Current Password">
                                                </div>
                                            </div> -->
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="newpassword">New Password</label>
                                                    <input id="newpassword" type="password" name="password" [(ngModel)]="password" placeholder="New Password">
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="retypenewpassword">Re-type New Password</label>
                                                    <input id="retypenewpassword" type="password"
                                                        placeholder="Re-type New Password" name="new_password" [(ngModel)]="new_password" >
                                                </div>
                                            </div>
                                            <div class="col-12 mt--10">
                                                <div class="rbt-form-group">
                                                    <a class="rbt-btn btn-gradient" href="#" onclick="return false" (click)="updateUser()">Update Password</a>
                                                </div>
                                            </div>
                                        </form>
                                        <!-- End Profile Row  -->
                                    </div>
                                    <!-- password -->
                                    <!-- address -->
                                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">

                                        <div class="rbt-dashboard-table table-responsive mobile-table-750" *ngIf="!direccionSelected">
                                           <div class="row">
                                            <div class="col-xs-12 col-sm-6">
                                                <form action="#" class="rbt-profile-row rbt-default-form row row--15">
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <label for="facebook"><i class="feather-facebook"></i>
                                                                Titulo de Dirección</label>
                                                            <input  type="text" name="title" [(ngModel)]="title"
                                                                placeholder="Trabajo">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <label for="facebook"><i class="feather-facebook"></i>
                                                                Nombre</label>
                                                            <input  type="text" name="name" [(ngModel)]="user.name" [readOnly]="true"
                                                                placeholder="María Alejandra Pérez Perez">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <label for="twitter"><i class="feather-twitter"></i> direccion</label>
                                                            <input  type="text" name="direccion" [(ngModel)]="direccion" placeholder="Av/Calle/Edific o casa">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <label for="linkedin"><i class="feather-linkedin"></i>
                                                                referencia</label>
                                                            <input  type="text" name="referencia" [(ngModel)]="referencia"
                                                                placeholder="punto de referencia">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <label for="website"><i class="feather-globe"></i> pais</label>
                                                            <input  type="text" name="pais" [(ngModel)]="pais" >
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <label for="github"><i class="feather-github"></i> ciudad</label>
                                                            <input  type="text" name="ciudad" [(ngModel)]="ciudad" >
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <label for="github"><i class="feather-github"></i> zip</label>
                                                            <input  type="text" name="zip" [(ngModel)]="zip" >
                                                        </div>
                                                    </div>
                                                    <div class="col-12 ">
                                                        <div class="rbt-form-group">
                                                            <label for="github"><i class="feather-github"></i> Mi localización</label>
                                                            <input  type="text" name="googlemap" [(ngModel)]="lugarService.localizacion" [readOnly]="true">
                                                            <app-cargandomapa *ngIf="!localizacionListo; else mapa"></app-cargandomapa>

                                                            <ng-template #mapa>
                                                            <app-mapavista></app-mapavista>
                                                            <button class="btn btn-primary btn-sm btnlocalizar" (click)="miLocalizacion()" >Mi Ubicación</button>
                                                            </ng-template>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 ">
                                                        <div class="rbt-form-group">
                                                            <a class="rbt-btn btn-gradient"  href="#" onclick="return false" (click)="saveDireccion()">Registrar Dirección</a>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="col-xs-12 col-sm-6">
                                                <table class="rbt-table table table-borderless">
                                                    <thead>
                                                        <tr>
                                                            <th>Title</th>
                                                            <th>direccion</th>
                                                            <th>Show Detail</th>
                                                        </tr>
                                                    </thead>
            
                                                    <tbody>
                                                        <ng-container *ngFor="let direccion of direccions">
                                                            <tr>
                                                                <td>{{direccion.title}}</td>
                                                                <td>{{direccion.direccion|slice:0:15}}...</td>
                                                                <td>
                                                                    <a class="rbt-btn btn-xs bg-primary-opacity radius-round"
                                                                            href="#" onclick="return false;" (click)="selectedDireccion(direccion)" title="Edit"><i class="feather-eye pl--0"></i></a>
                                                                            <a class="rbt-btn btn-xs bg-primary-opacity radius-round"
                                                                            href="#" onclick="return false;" (click)="deleteDireccion(direccion)" title="Edit"><i class="feather-trash pl--0"></i></a>
                                                                </td>
                                                            </tr>
                                                        </ng-container>
                                                       
                                                    </tbody>
                                                </table>
                                            </div>
                                           </div>
                                            
                                        </div>
                                        <div class="rbt-dashboard-table table-responsive mobile-table-750" *ngIf="direccionSelected">
                                            <div class="row">
                                                
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <b >
                                                                Titulo de Dirección</b><br>
                                                            {{direccionSelected.title}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <b >
                                                                Nombre</b><br>
                                                                {{direccionSelected.name}} {{direccionSelected.surname}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <b > direccion</b><br>
                                                            {{direccionSelected.direccion}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-6">
                                                        <div class="rbt-form-group">
                                                            <b >
                                                                referencia</b><br>
                                                                {{direccionSelected.referencia}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <b > pais</b><br>
                                                            {{direccionSelected.pais}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <b > ciudad</b><br>
                                                            {{direccionSelected.ciudad}}
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class="rbt-form-group">
                                                            <b > zip</b><br>
                                                            {{direccionSelected.zip}}
                                                        </div>
                                                    </div>
                                            </div>
                                                
                                                
                                        </div>
                                        <div *ngIf="direccionSelected">
                                            <button class="btn btn-primary btn-sm" (click)="direccionSelected = null">Regresar</button>
                                        </div>
                                        <!-- Start Profile Row  -->
                                        
                                        <!-- End Profile Row  -->
                                    </div>
                                    <!-- address -->
                                    <!-- social -->
                                    <div class="tab-pane fade" id="social" role="tabpanel" aria-labelledby="social-tab">
                                        <!-- Start Profile Row  -->
                                        <form action="#" class="rbt-profile-row rbt-default-form row row--15">
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="facebook"><i class="feather-facebook"></i>
                                                        Facebook</label>
                                                    <input  type="text"
                                                        placeholder="https://facebook.com/">
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="twitter"><i class="feather-twitter"></i> Twitter</label>
                                                    <input  type="text" placeholder="https://twitter.com/">
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="linkedin"><i class="feather-linkedin"></i>
                                                        Linkedin</label>
                                                    <input  type="text"
                                                        placeholder="https://linkedin.com/">
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="website"><i class="feather-globe"></i> Website</label>
                                                    <input  type="text" placeholder="https://website.com/">
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="rbt-form-group">
                                                    <label for="github"><i class="feather-github"></i> Github</label>
                                                    <input  type="text" placeholder="https://github.com/">
                                                </div>
                                            </div>
                                            <div class="col-12 mt--10">
                                                <div class="rbt-form-group">
                                                    <a class="rbt-btn btn-gradient" href="#">Update Profile</a>
                                                </div>
                                            </div>
                                        </form>
                                        <!-- End Profile Row  -->
                                    </div>
                                    <!-- social -->
                                </div>
                            </div>
                        </div>
                        <!-- settings-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Card Style -->
<div class="rbt-separator-mid">
    <div class="container">
        <hr class="rbt-separator m-0">
    </div>
</div>